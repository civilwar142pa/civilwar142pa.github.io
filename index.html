<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Club Manager</title>
    <script src="https://unpkg.com/@discord/embedded-app-sdk@0.1.9"></script>
</head>

<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>ðŸ“š Book Club Manager</h1>
            <div class="session-controls">
                <button id="export-data-btn" class="secondary-btn">Export Data</button>
                <button id="reset-session-btn" class="danger">Reset Session</button>
                <button id="refresh-books-btn" class="primary">ðŸ”„ Refresh Books</button>
            </div>
        </div>

        <!-- Discord Status Indicator -->
        <div id="discord-status" style="display: none;" class="success-message">
            âœ… Connected to Discord
        </div>

        <!-- Current Book Section -->
        <div class="section">
            <h2>ðŸ“– Currently Reading</h2>
            <div id="current-book" class="current-book-card">
                <div class="no-book" id="no-book-message">
                    <p>No book selected. Pick one from the randomizer!</p>
                </div>
            </div>
        </div>

        <!-- Book Randomizer Section -->
        <div class="section">
            <h2>ðŸŽ² Book Randomizer</h2>
            <div class="randomizer-controls">
                <div class="action-buttons">
                    <button id="pick-random-btn" class="primary">Pick Next Book! ðŸŽ¯</button>
                    <button id="show-history-btn" class="secondary-btn">View History</button>
                    <button id="open-sheet-btn" class="resource-btn">ðŸ“š Open Book Sheet</button>
                </div>
            </div>

            <div id="random-result"></div>
            <div id="book-history" class="history-panel" style="display: none;">
                <h3>Reading History</h3>
                <div id="history-list"></div>
                <button id="close-history-btn" class="secondary-btn">Close History</button>
            </div>
        </div>
            
        <div class="books-container">
            <h3>Available Books (<span id="available-count">0</span>)</h3>
            <div id="book-list" class="item-list"></div>
        </div>

        <!-- Discussion Questions -->
        <div class="section">
            <h2>ðŸ’¬ Discussion Questions</h2>
            <div class="input-group">
                <input type="text" id="new-question-input" placeholder="Add a discussion question...">
                <button id="add-question-btn" class="primary">Add Question</button>
            </div>
            <div id="questions-list" class="item-list"></div>
        </div>

        <!-- Progress Controls (for current book) -->
        <div id="progress-controls" style="display: none;">
            <!-- This will be populated by JavaScript -->
        </div>

        <!-- Resources -->
        <div class="section">
            <h2>ðŸ”— Resources</h2>
            <div class="resources">
                <button id="master-list-btn" class="resource-btn">ðŸ“š Master Book List</button>
            </div>
        </div>

        <!-- Debug Tools -->
        <div class="section">
            <h2>ðŸ”§ Debug Tools</h2>
            <div class="resources">
                <button id="test-sheets-btn" class="resource-btn">Test Google Sheets</button>
                <button id="test-discord-btn" class="resource-btn">Test Discord SDK</button>
                <button id="simple-test-btn" class="resource-btn">Simple Function Test</button>
                <button id="clear-data-btn" class="danger">Clear All Data</button>
                <button id="test-discord-sheets-btn" class="resource-btn">Test Discord Sheets</button>
            </div>
        </div>

        <!-- Status -->
        <div class="status-bar">
            <span id="status-message">Ready to load books...</span>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>